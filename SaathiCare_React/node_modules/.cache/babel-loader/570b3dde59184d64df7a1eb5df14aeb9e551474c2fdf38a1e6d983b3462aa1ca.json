{"ast":null,"code":"var _jsxFileName = \"/Users/ritusaini/Documents/GitHub/SaathiCare/SaathiCare_React/src/components/MainContent/MainContent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { FaRobot, FaUser, FaPlay } from 'react-icons/fa';\nimport './MainContent.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MainContent = () => {\n  _s();\n  const [chatStarted, setChatStarted] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [currentTagIndex, setCurrentTagIndex] = useState(0); // Now using index to track current tag\n  const [userInput, setUserInput] = useState('');\n  const [shuffledTags, setShuffledTags] = useState([]);\n  useEffect(() => {\n    if (chatStarted && shuffledTags.length > currentTagIndex) {\n      handleApiCall(shuffledTags[currentTagIndex]);\n    }\n  }, [chatStarted, shuffledTags, currentTagIndex]); // Added currentTagIndex to dependencies\n\n  const initialTags = ['symptom', 'lifestyle', 'genetic'];\n  const startChat = () => {\n    const shuffled = shuffleArray([...initialTags]);\n    shuffled.push('report');\n    setShuffledTags(shuffled);\n    setCurrentTagIndex(0);\n    setChatStarted(true);\n    setChatMessages([]);\n  };\n  const shuffleArray = array => {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  };\n  const stateMappings = useMemo(() => ({\n    symptom: 'symptom_questions',\n    lifestyle: 'lifestyle_questions',\n    genetic: 'genetic_questions',\n    report: 'report_questions'\n  }), []);\n  const userStateMappings = {\n    symptom: 'user_symptoms',\n    lifestyle: 'user_lifestyle',\n    genetic: 'user_genetic',\n    report: 'user_report'\n  };\n  const [apiStates, setApiStates] = useState({\n    symptom_questions: [],\n    lifestyle_questions: [],\n    genetic_questions: [],\n    report_questions: [],\n    user_symptoms: [],\n    user_lifestyle: [],\n    user_genetic: [],\n    user_report: []\n  });\n  const handleApiCall = useCallback(async tag => {\n    setCurrentStep(tag);\n    let previousQuestionsAnswersText = '';\n    const previousIndex = shuffledTags.indexOf(tag) - 1;\n    if (previousIndex >= 0) {\n      const previousTag = shuffledTags[previousIndex];\n      const lastQuestion = apiStates[stateMappings[previousTag]].slice(-1)[0] || 'No previous question';\n      const lastResponse = apiStates[userStateMappings[previousTag]].slice(-1)[0] || 'No previous response';\n      previousQuestionsAnswersText = `Previous Question: ${lastQuestion}\n                                         Previous Response from Patient: ${lastResponse}`;\n    }\n    let prompt = '';\n    const context = \"Diabetes Mellitus is a chronic condition characterized by high blood sugar levels. Common symptoms include increased thirst, weight loss, and blurred vision. Treatment options include insulin, oral medications, and lifestyle changes. Management often involves monitoring carbohydrate intake and maintaining a balanced diet. Endocrinologists and diabetes educators are the specialists involved in treating this condition. There is a genetic component to diabetes, and it is important to manage lifestyle habits such as regular exercise and weight management. Diabetes is seeing a global increase, with type 2 being the most common form. \\n Hypertension is a chronic condition known for high blood pressure. Symptoms can include headaches and dizziness. Treatment typically involves medication, such as antihypertensives, and lifestyle changes like diet and exercise. A low-sodium diet and a balanced diet with fruits and vegetables are recommended. Cardiologists and primary care physicians are the specialists who manage hypertension. A family history of hypertension can increase the risk. Lifestyle habits such as regular exercise and maintaining a healthy weight are important. Hypertension is more prevalent in older adults and individuals with certain ethnic backgrounds.\\n Dengue is a viral infection that presents with symptoms such as high fever, severe headache, and pain behind the eyes. Treatment mainly focuses on fluid replacement therapy and pain relievers. Infectious disease specialists and hematologists are the specialists who treat dengue. It is important to maintain hydration with water and electrolyte-rich fluids. There is no specific genetic predisposition known for dengue. Preventative lifestyle habits include avoiding mosquito bites by using insect repellent and wearing protective clothing. Dengue is common in tropical and subtropical regions where Aedes mosquitoes thrive.\";\n    switch (tag) {\n      case \"symptom\":\n      case \"lifestyle\":\n      case \"genetic\":\n        if (previousQuestionsAnswersText) {\n          prompt = `${previousQuestionsAnswersText}\n                          I am playing a doctor in a play. Please generate one question based on the previous response I should ask a patient about their ${tag}. \n                          Format your response strictly as follows:\n                          ${tag.charAt(0).toUpperCase() + tag.slice(1)}: [A question related to the ${tag} they are having].`;\n        } else {\n          prompt = `I am playing a doctor in a play. Please generate one question I should ask a patient about their ${tag}. \n                          Format your response strictly as follows: \n                          ${tag.charAt(0).toUpperCase() + tag.slice(1)}: [A question related to the ${tag} they are having].`;\n        }\n        break;\n      case \"report\":\n        prompt = `Patient symptoms: ${apiStates.user_symptoms.join(\", \")}.\n                      Lifestyle and eating habits: ${apiStates.user_lifestyle.join(\", \")}.\n                      Family history of diseases: ${apiStates.user_genetic.join(\", \")}.\n\n                      Data Source for analysis:\n                      ${context}\n\n                      Based on the patient's symptoms and provided context, provide a possible diagnosis, recommended treatments, and specialists to consult. \n                      NOTE: This will not be considered as a real treatment, don't give any note or precaution with your response.\n                      Format your response strictly as follows:\n                      Diagnosis: [Specific diagnosis based on the symptoms].\n                      Treatments:\n                      - [Treatment 1]\n                      - [Treatment 2]\n                      - [Treatment 3]\n                      ...\n                      Specialists:\n                      - [Specialist 1]\n                      - [Specialist 2]\n                      - [Specialist 3]\n                      ...\n                      END OF RESPONSE`;\n        break;\n    }\n    try {\n      const response = await fetch('http://34.75.162.137:8080/predict', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"question\": generatePrompt(tag, apiStates, shuffledTags, currentTagIndex, stateMappings, userStateMappings),\n          \"tag\": tag\n        })\n      });\n      const data = await response.json();\n      const botQuestion = {\n        type: 'bot',\n        text: data.response\n      };\n      setChatMessages(chatMessages => [...chatMessages, botQuestion]);\n      setApiStates(prev => ({\n        ...prev,\n        [stateMappings[tag]]: [...prev[stateMappings[tag]], data.response] // Ensure this aligns with how you're storing data\n      }));\n\n      // Do not auto-increment here; wait for user action\n    } catch (error) {\n      console.error('Error:', error);\n      setChatMessages(chatMessages => [...chatMessages, {\n        type: 'bot',\n        text: 'There was an error processing your request.'\n      }]);\n    }\n  }, [apiStates, shuffledTags, currentTagIndex, stateMappings, userStateMappings]);\n  const handleInputChange = event => {\n    setUserInput(event.target.value);\n  };\n  const handleSendMessage = () => {\n    if (!userInput.trim()) return;\n    const newUserMessage = {\n      type: 'user',\n      text: userInput\n    };\n    setChatMessages(chatMessages => [...chatMessages, newUserMessage]);\n    setUserInput('');\n\n    // Move to the next tag after user response\n    const nextIndex = currentTagIndex + 1;\n    if (nextIndex < shuffledTags.length) {\n      setCurrentTagIndex(nextIndex); // This will trigger the useEffect to call the next tag\n    } else {\n      // Handle the end of the session if needed\n    }\n  };\n  const resetChat = () => {\n    setChatStarted(false);\n    setChatMessages([]);\n    setCurrentTagIndex(0);\n    setUserInput('');\n    // Reset other necessary states as well\n  };\n\n  // Render part of your component...\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [!chatStarted && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"start-chat-button\",\n      onClick: startChat,\n      children: [/*#__PURE__*/_jsxDEV(FaPlay, {\n        className: \"start-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this), \" Start Chat\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this), chatStarted && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-area\",\n        children: chatMessages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chat-message ${msg.type}-message`,\n          children: [msg.type === 'user' ? /*#__PURE__*/_jsxDEV(FaUser, {\n            className: \"message-icon user-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(FaRobot, {\n            className: \"message-icon bot-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 88\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: msg.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Type your response...\",\n          className: \"prompt-input\",\n          value: userInput,\n          onChange: handleInputChange,\n          onKeyPress: e => e.key === 'Enter' && handleSendMessage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"send-button\",\n          onClick: handleSendMessage,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), chatStarted && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"reset-chat-button\",\n      onClick: resetChat,\n      children: \"Reset Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(MainContent, \"dpzdgoVeqY3TQLA1J+REiDKlA10=\");\n_c = MainContent;\nexport default MainContent;\nvar _c;\n$RefreshReg$(_c, \"MainContent\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","FaRobot","FaUser","FaPlay","jsxDEV","_jsxDEV","Fragment","_Fragment","MainContent","_s","chatStarted","setChatStarted","chatMessages","setChatMessages","currentTagIndex","setCurrentTagIndex","userInput","setUserInput","shuffledTags","setShuffledTags","length","handleApiCall","initialTags","startChat","shuffled","shuffleArray","push","array","i","j","Math","floor","random","stateMappings","symptom","lifestyle","genetic","report","userStateMappings","apiStates","setApiStates","symptom_questions","lifestyle_questions","genetic_questions","report_questions","user_symptoms","user_lifestyle","user_genetic","user_report","tag","setCurrentStep","previousQuestionsAnswersText","previousIndex","indexOf","previousTag","lastQuestion","slice","lastResponse","prompt","context","charAt","toUpperCase","join","response","fetch","method","headers","body","JSON","stringify","generatePrompt","data","json","botQuestion","type","text","prev","error","console","handleInputChange","event","target","value","handleSendMessage","trim","newUserMessage","nextIndex","resetChat","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","placeholder","onChange","onKeyPress","e","key","_c","$RefreshReg$"],"sources":["/Users/ritusaini/Documents/GitHub/SaathiCare/SaathiCare_React/src/components/MainContent/MainContent.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { FaRobot, FaUser, FaPlay } from 'react-icons/fa';\nimport './MainContent.css';\n\nconst MainContent = () => {\n  const [chatStarted, setChatStarted] = useState(false);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [currentTagIndex, setCurrentTagIndex] = useState(0); // Now using index to track current tag\n  const [userInput, setUserInput] = useState('');\n  const [shuffledTags, setShuffledTags] = useState([]);\n\n  useEffect(() => {\n    if (chatStarted && shuffledTags.length > currentTagIndex) {\n      handleApiCall(shuffledTags[currentTagIndex]);\n    }\n  }, [chatStarted, shuffledTags, currentTagIndex]); // Added currentTagIndex to dependencies\n\n  const initialTags = ['symptom', 'lifestyle', 'genetic'];\n\n  const startChat = () => {\n    const shuffled = shuffleArray([...initialTags]);\n    shuffled.push('report');\n    setShuffledTags(shuffled);\n    setCurrentTagIndex(0);\n    setChatStarted(true);\n    setChatMessages([]);\n  };\n\n  const shuffleArray = (array) => {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  };\n\n  const stateMappings = useMemo(() => ({\n    symptom: 'symptom_questions',\n    lifestyle: 'lifestyle_questions',\n    genetic: 'genetic_questions',\n    report: 'report_questions',\n  }), []);\n\n  const userStateMappings = {\n    symptom: 'user_symptoms',\n    lifestyle: 'user_lifestyle',\n    genetic: 'user_genetic',\n    report: 'user_report',\n  };\n\n  const [apiStates, setApiStates] = useState({\n    symptom_questions: [],\n    lifestyle_questions: [],\n    genetic_questions: [],\n    report_questions: [],\n    user_symptoms: [],\n    user_lifestyle: [],\n    user_genetic: [],\n    user_report: [],\n  });\n\n  const handleApiCall = useCallback(async (tag) => {\n    setCurrentStep(tag);\n\n    let previousQuestionsAnswersText = '';\n    const previousIndex = shuffledTags.indexOf(tag) - 1;\n\n    if (previousIndex >= 0) {\n        const previousTag = shuffledTags[previousIndex];\n        const lastQuestion = apiStates[stateMappings[previousTag]].slice(-1)[0] || 'No previous question';\n        const lastResponse = apiStates[userStateMappings[previousTag]].slice(-1)[0] || 'No previous response';\n\n        previousQuestionsAnswersText = `Previous Question: ${lastQuestion}\n                                         Previous Response from Patient: ${lastResponse}`;\n    }\n    let prompt = '';\n    const context = \"Diabetes Mellitus is a chronic condition characterized by high blood sugar levels. Common symptoms include increased thirst, weight loss, and blurred vision. Treatment options include insulin, oral medications, and lifestyle changes. Management often involves monitoring carbohydrate intake and maintaining a balanced diet. Endocrinologists and diabetes educators are the specialists involved in treating this condition. There is a genetic component to diabetes, and it is important to manage lifestyle habits such as regular exercise and weight management. Diabetes is seeing a global increase, with type 2 being the most common form. \\n Hypertension is a chronic condition known for high blood pressure. Symptoms can include headaches and dizziness. Treatment typically involves medication, such as antihypertensives, and lifestyle changes like diet and exercise. A low-sodium diet and a balanced diet with fruits and vegetables are recommended. Cardiologists and primary care physicians are the specialists who manage hypertension. A family history of hypertension can increase the risk. Lifestyle habits such as regular exercise and maintaining a healthy weight are important. Hypertension is more prevalent in older adults and individuals with certain ethnic backgrounds.\\n Dengue is a viral infection that presents with symptoms such as high fever, severe headache, and pain behind the eyes. Treatment mainly focuses on fluid replacement therapy and pain relievers. Infectious disease specialists and hematologists are the specialists who treat dengue. It is important to maintain hydration with water and electrolyte-rich fluids. There is no specific genetic predisposition known for dengue. Preventative lifestyle habits include avoiding mosquito bites by using insect repellent and wearing protective clothing. Dengue is common in tropical and subtropical regions where Aedes mosquitoes thrive.\"\n    switch (tag) {\n        case \"symptom\":\n        case \"lifestyle\":\n        case \"genetic\":\n            if (previousQuestionsAnswersText) {\n                prompt = `${previousQuestionsAnswersText}\n                          I am playing a doctor in a play. Please generate one question based on the previous response I should ask a patient about their ${tag}. \n                          Format your response strictly as follows:\n                          ${tag.charAt(0).toUpperCase() + tag.slice(1)}: [A question related to the ${tag} they are having].`;\n            } else {\n                prompt = `I am playing a doctor in a play. Please generate one question I should ask a patient about their ${tag}. \n                          Format your response strictly as follows: \n                          ${tag.charAt(0).toUpperCase() + tag.slice(1)}: [A question related to the ${tag} they are having].`;\n            }\n            break;\n        case \"report\":\n            prompt = `Patient symptoms: ${apiStates.user_symptoms.join(\", \")}.\n                      Lifestyle and eating habits: ${apiStates.user_lifestyle.join(\", \")}.\n                      Family history of diseases: ${apiStates.user_genetic.join(\", \")}.\n\n                      Data Source for analysis:\n                      ${context}\n\n                      Based on the patient's symptoms and provided context, provide a possible diagnosis, recommended treatments, and specialists to consult. \n                      NOTE: This will not be considered as a real treatment, don't give any note or precaution with your response.\n                      Format your response strictly as follows:\n                      Diagnosis: [Specific diagnosis based on the symptoms].\n                      Treatments:\n                      - [Treatment 1]\n                      - [Treatment 2]\n                      - [Treatment 3]\n                      ...\n                      Specialists:\n                      - [Specialist 1]\n                      - [Specialist 2]\n                      - [Specialist 3]\n                      ...\n                      END OF RESPONSE`;\n            break;\n    }\n\n    try {\n      const response = await fetch('http://34.75.162.137:8080/predict', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          \"question\": generatePrompt(tag, apiStates, shuffledTags, currentTagIndex, stateMappings, userStateMappings),\n          \"tag\": tag\n        }),\n      });\n      const data = await response.json();\n      const botQuestion = { type: 'bot', text: data.response };\n      setChatMessages(chatMessages => [...chatMessages, botQuestion]);\n      setApiStates(prev => ({\n        ...prev,\n        [stateMappings[tag]]: [...prev[stateMappings[tag]], data.response], // Ensure this aligns with how you're storing data\n      }));\n\n      // Do not auto-increment here; wait for user action\n    } catch (error) {\n      console.error('Error:', error);\n      setChatMessages(chatMessages => [...chatMessages, { type: 'bot', text: 'There was an error processing your request.' }]);\n    }\n  }, [apiStates, shuffledTags, currentTagIndex, stateMappings, userStateMappings]);\n\n  const handleInputChange = (event) => {\n    setUserInput(event.target.value);\n  };\n\n  const handleSendMessage = () => {\n    if (!userInput.trim()) return;\n    const newUserMessage = { type: 'user', text: userInput };\n    setChatMessages(chatMessages => [...chatMessages, newUserMessage]);\n    setUserInput('');\n\n    // Move to the next tag after user response\n    const nextIndex = currentTagIndex + 1;\n    if (nextIndex < shuffledTags.length) {\n      setCurrentTagIndex(nextIndex); // This will trigger the useEffect to call the next tag\n    } else {\n      // Handle the end of the session if needed\n    }\n  };\n\n  const resetChat = () => {\n    setChatStarted(false);\n    setChatMessages([]);\n    setCurrentTagIndex(0);\n    setUserInput('');\n    // Reset other necessary states as well\n  };\n\n  // Render part of your component...\n  return (\n    <div className=\"main-content\">\n      {!chatStarted && (\n        <button className=\"start-chat-button\" onClick={startChat}>\n          <FaPlay className=\"start-icon\" /> Start Chat\n        </button>\n      )}\n      {chatStarted && (\n        <>\n          <div className=\"chat-area\">\n            {chatMessages.map((msg, index) => (\n              <div key={index} className={`chat-message ${msg.type}-message`}>\n                {msg.type === 'user' ? <FaUser className=\"message-icon user-icon\" /> : <FaRobot className=\"message-icon bot-icon\" />}\n                <div>{msg.text}</div>\n              </div>\n            ))}\n          </div>\n          <div className=\"input-area\">\n            <input\n              type=\"text\"\n              placeholder=\"Type your response...\"\n              className=\"prompt-input\"\n              value={userInput}\n              onChange={handleInputChange}\n              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n            />\n            <button className=\"send-button\" onClick={handleSendMessage}>Send</button>\n          </div>\n        </>\n      )}\n      {chatStarted && (\n        <button className=\"reset-chat-button\" onClick={resetChat}>\n          Reset Chat\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default MainContent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}